{"paragraphs":[{"text":"%md\n# TMDb database\nfrom https://medium.com/@onpillow/01-investigate-tmdb-movie-dataset-python-data-analysis-project-part-1-data-wrangling-3d2b55ea7714\n\nhttps://github.com/onpillow/Udacity-DAND-Term1/blob/master/p2/Investigate_a_Dataset.ipynb","user":"anonymous","dateUpdated":"2019-03-16T21:29:53+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>TMDb database</h1>\n<p>from <a href=\"https://medium.com/@onpillow/01-investigate-tmdb-movie-dataset-python-data-analysis-project-part-1-data-wrangling-3d2b55ea7714\">https://medium.com/@onpillow/01-investigate-tmdb-movie-dataset-python-data-analysis-project-part-1-data-wrangling-3d2b55ea7714</a></p>\n<p><a href=\"https://github.com/onpillow/Udacity-DAND-Term1/blob/master/p2/Investigate_a_Dataset.ipynb\">https://github.com/onpillow/Udacity-DAND-Term1/blob/master/p2/Investigate_a_Dataset.ipynb</a></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552751627615_-1009251784","id":"20190316-165347_1015646723","dateCreated":"2019-03-16T16:53:47+0100","dateStarted":"2019-03-16T21:29:53+0100","dateFinished":"2019-03-16T21:29:53+0100","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:7428"},{"title":"Importing libraries","text":"import pandas as pd\nimport numpy as np","user":"anonymous","dateUpdated":"2019-03-17T10:49:08+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","title":true,"editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552751594483_152144196","id":"20190316-165314_629494279","dateCreated":"2019-03-16T16:53:14+0100","dateStarted":"2019-03-16T22:01:28+0100","dateFinished":"2019-03-16T22:01:42+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7429"},{"title":"Cleaning","text":"df = pd.read_csv('movies.csv')\ndf.drop_duplicates(inplace=True)\ncal2 = ['cast', 'director', 'genres']\ndf.dropna(subset = cal2, how='any', inplace=True)\ndf['budget'] = df['budget'].replace(0, np.NaN)\ndf['revenue'] = df['revenue'].replace(0, np.NaN)\ndf.query('runtime != 0', inplace=True)\n","user":"anonymous","dateUpdated":"2019-03-16T22:01:44+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552764798046_269556208","id":"20190316-203318_58172938","dateCreated":"2019-03-16T20:33:18+0100","dateStarted":"2019-03-16T22:01:44+0100","dateFinished":"2019-03-16T22:01:45+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7430"},{"text":"%md\n# Question Researched\n\n## Part 1: General Explore\n* Question 1: Popularity Over Years\n* Question 2: The distribution of revenue in different popularity levels in recent five years.\n* Question 3: The distribution of revenue in different score rating levels in recent five years.\n\n## Part 2: Find the Properties are Associated with Successful Movies\n* Question 1: What kinds of properties are associated with movies that have high popularity?\n* Question 2: What kinds of properties are associated with movies that have high voting score?\n\n## Part 3: Top Keywords and Genres Trends by Generation\n* Question 1: Number of movie released year by year\n* Question 2: Keywords Trends by Generation\n* Question 3: Genres Trends by Generation","user":"anonymous","dateUpdated":"2019-03-17T10:46:04+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Question Researched</h1>\n<h2>Part 1: General Explore</h2>\n<ul>\n  <li>Question 1: Popularity Over Years</li>\n  <li>Question 2: The distribution of revenue in different popularity levels in recent five years.</li>\n  <li>Question 3: The distribution of revenue in different score rating levels in recent five years.</li>\n</ul>\n<h2>Part 2: Find the Properties are Associated with Successful Movies</h2>\n<ul>\n  <li>Question 1: What kinds of properties are associated with movies that have high popularity?</li>\n  <li>Question 2: What kinds of properties are associated with movies that have high voting score?</li>\n</ul>\n<h2>Part 3: Top Keywords and Genres Trends by Generation</h2>\n<ul>\n  <li>Question 1: Number of movie released year by year</li>\n  <li>Question 2: Keywords Trends by Generation</li>\n  <li>Question 3: Genres Trends by Generation</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1552767227875_666166530","id":"20190316-211347_1014659122","dateCreated":"2019-03-16T21:13:47+0100","dateStarted":"2019-03-17T10:46:04+0100","dateFinished":"2019-03-17T10:46:04+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7431"},{"text":"%md\n## Part 1: General Explore\n* Question 1: Popularity Over Years","user":"anonymous","dateUpdated":"2019-03-16T21:14:18+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>Part 1: General Explore</h2>\n<ul>\n  <li>Question 1: Popularity Over Years</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1552767256459_1536331894","id":"20190316-211416_1496732324","dateCreated":"2019-03-16T21:14:16+0100","dateStarted":"2019-03-16T21:14:18+0100","dateFinished":"2019-03-16T21:14:18+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7432"},{"text":"desc =  df.describe()","user":"anonymous","dateUpdated":"2019-03-17T11:04:56+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552766983752_1767675205","id":"20190316-210943_984239470","dateCreated":"2019-03-16T21:09:43+0100","dateStarted":"2019-03-16T22:01:49+0100","dateFinished":"2019-03-16T22:01:49+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7433"},{"text":"%sql\nselect * from desc\n","user":"anonymous","dateUpdated":"2019-03-16T21:30:04+0100","config":{"colWidth":9,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","popularity":"string","budget":"string","revenue":"string","runtime":"string","vote_count":"string","vote_average":"string","release_year":"string","budget_adj":"string","revenue_adj":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tpopularity\tbudget\trevenue\truntime\tvote_count\tvote_average\trelease_year\tbudget_adj\trevenue_adj\n10703.0\t10703.0\t5150.0\t4843.0\t10703.0\t10703.0\t10703.0\t10703.0\t10703.0\t10703.0\n64904.98832103149\t0.6538184480052321\t30844014.907184467\t89339812.8653727\t102.73689619732785\t220.33317761375315\t5.966112304961244\t2001.235354573484\t17810610.967121307\t52142282.35878783\n91161.99630781726\t1.0056874235407895\t38937824.667880334\t162154576.59755975\t30.07933057429544\t579.4819692052175\t0.9301546729772878\t12.825919774976558\t34499875.757832184\t145590906.60625723\n5.0\t0.000188\t1.0\t2.0\t3.0\t10.0\t1.5\t1960.0\t0.0\t0.0\n10538.5\t0.211533\t6000000.0\t7779664.0\t90.0\t17.0\t5.4\t1995.0\t0.0\t0.0\n20235.0\t0.388036\t17500000.0\t31911598.0\t99.0\t39.0\t6.0\t2006.0\t0.0\t0.0\n73637.0\t0.7224384999999989\t40000000.0\t100000000.0\t112.0\t149.0\t6.6\t2011.0\t21164142.356487148\t34973528.94518624\n417859.0\t32.985763\t425000000.0\t2781505847.0\t900.0\t9767.0\t9.2\t2015.0\t425000000.0\t2827123750.41189\n"}]},"apps":[],"jobName":"paragraph_1552765653280_1490663679","id":"20190316-204733_1960912614","dateCreated":"2019-03-16T20:47:33+0100","dateStarted":"2019-03-16T21:30:04+0100","dateFinished":"2019-03-16T21:30:04+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7434"},{"text":"%md\n\n\nWe see here that the popularity has some extreme values, we need to be aware of that. According to internet, there is no upperbound so we decide to keep them.","user":"anonymous","dateUpdated":"2019-03-16T21:34:38+0100","config":{"colWidth":3,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":85,"optionOpen":false}}},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>We see here that the popularity has some extreme values, we need to be aware of that. According to internet, there is no upperbound so we decide to keep them.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552766932554_-748134335","id":"20190316-210852_613088045","dateCreated":"2019-03-16T21:08:52+0100","dateStarted":"2019-03-16T21:12:27+0100","dateFinished":"2019-03-16T21:12:28+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7435"},{"text":"p_mean = df.groupby('release_year').mean()['popularity']\np_mean.tail()","user":"anonymous","dateUpdated":"2019-03-16T21:34:00+0100","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"release_year\n2011    0.685607\n2012    0.620326\n2013    0.639309\n2014    0.910027\n2015    1.055081\nName: popularity, dtype: float64\n"}]},"apps":[],"jobName":"paragraph_1552767280712_-237343370","id":"20190316-211440_608793889","dateCreated":"2019-03-16T21:14:40+0100","dateStarted":"2019-03-16T21:30:07+0100","dateFinished":"2019-03-16T21:30:07+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7436"},{"text":"p_median = df.groupby('release_year').median()['popularity']\np_median.tail()","user":"anonymous","dateUpdated":"2019-03-16T21:34:04+0100","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"release_year\n2011    0.420930\n2012    0.344263\n2013    0.356506\n2014    0.383337\n2015    0.407396\nName: popularity, dtype: float64\n"}]},"apps":[],"jobName":"paragraph_1552767292140_1172346627","id":"20190316-211452_176849042","dateCreated":"2019-03-16T21:14:52+0100","dateStarted":"2019-03-16T21:30:09+0100","dateFinished":"2019-03-16T21:30:09+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7437"},{"text":"%md\nWe can see that the median data for popularity is more smoother.\n\n","user":"anonymous","dateUpdated":"2019-03-16T21:34:12+0100","config":{"colWidth":4,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>We can see that the median data for popularity is more smoother.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552768408492_-1989049794","id":"20190316-213328_2011967356","dateCreated":"2019-03-16T21:33:28+0100","dateStarted":"2019-03-16T21:34:12+0100","dateFinished":"2019-03-16T21:34:12+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7438"},{"text":"mean_median = pd.DataFrame(data = {'mean': p_mean, 'median': p_median})","user":"anonymous","dateUpdated":"2019-03-16T21:30:12+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552767329856_1364099262","id":"20190316-211529_1934124955","dateCreated":"2019-03-16T21:15:29+0100","dateStarted":"2019-03-16T21:30:12+0100","dateFinished":"2019-03-16T21:30:12+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7439"},{"title":"Mean vs median","text":"%sql\nselect * from mean_median","user":"anonymous","dateUpdated":"2019-03-17T10:46:34+0100","config":{"colWidth":9,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"release_year":"string","mean":"string","median":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"lineChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"release_year","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"mean","index":1,"aggr":"sum"},{"name":"median","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql","editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"release_year\tmean\tmedian\n1960.0\t0.4589323124999999\t0.268273\n1961.0\t0.422827129032258\t0.265092\n1962.0\t0.45478340624999997\t0.299075\n1963.0\t0.5027064411764701\t0.24994\n1964.0\t0.4124283095238095\t0.19447150000000002\n1965.0\t0.3425865428571428\t0.201703\n1966.0\t0.304112\t0.245917\n1967.0\t0.4890843947368421\t0.244429\n1968.0\t0.4957261578947369\t0.351242\n1969.0\t0.436779\t0.3378935\n1970.0\t0.3416378499999999\t0.282984\n1971.0\t0.44811187272727254\t0.306073\n1972.0\t0.4490540500000001\t0.26553\n1973.0\t0.4944621636363637\t0.38388\n1974.0\t0.45376021739130434\t0.313789\n1975.0\t0.5194445681818178\t0.3158835\n1976.0\t0.4745162978723402\t0.328263\n1977.0\t0.6375284107142856\t0.3155185\n1978.0\t0.413314353846154\t0.296883\n1979.0\t0.5893116140350877\t0.360116\n1980.0\t0.4956523846153846\t0.2862635\n1981.0\t0.44241310975609716\t0.280764\n1982.0\t0.543352950617284\t0.37483\n1983.0\t0.5414446749999998\t0.353356\n1984.0\t0.5903005769230771\t0.36763\n1985.0\t0.5894656388888888\t0.40699450000000004\n1986.0\t0.5112381416666667\t0.394405\n1987.0\t0.5066628064516128\t0.34784000000000004\n1988.0\t0.4719996197183096\t0.32752650000000005\n1989.0\t0.5678159407407405\t0.355479\n1990.0\t0.5357348181818182\t0.3851635\n1991.0\t0.5010899172932328\t0.350342\n1992.0\t0.583376477272727\t0.4290149999999995\n1993.0\t0.5494751355932203\t0.453557\n1994.0\t0.6688246358695653\t0.4168885\n1995.0\t0.7146407586206899\t0.505928\n1996.0\t0.6063980935960588\t0.455716\n1997.0\t0.7140332984293192\t0.46602\n1998.0\t0.6261647047619044\t0.4500065\n1999.0\t0.6457989776785711\t0.370755\n2000.0\t0.5551179192825112\t0.385239\n2001.0\t0.7050337966804981\t0.438395\n2002.0\t0.7092412748091608\t0.471124\n2003.0\t0.721387946428571\t0.424844\n2004.0\t0.7224384104234526\t0.45526300000000003\n2005.0\t0.6346554206128141\t0.423386\n2006.0\t0.6110442655086843\t0.405681\n2007.0\t0.5984884328703707\t0.4174995\n2008.0\t0.5957551896907223\t0.389554\n2009.0\t0.6087005267175578\t0.38824899999999996\n2010.0\t0.660136879999999\t0.41703500000000004\n2011.0\t0.6856073950850664\t0.42093\n2012.0\t0.6203257604895102\t0.344263\n2013.0\t0.6393090496894407\t0.35650550000000003\n2014.0\t0.9100269014705893\t0.3833375\n2015.0\t1.0550807098360642\t0.40739649999999994\n"}]},"apps":[],"jobName":"paragraph_1552767449267_-1770545760","id":"20190316-211729_1760664672","dateCreated":"2019-03-16T21:17:29+0100","dateStarted":"2019-03-16T21:31:32+0100","dateFinished":"2019-03-16T21:31:32+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7440"},{"text":"%md\nFrom the figure above, we can see that the trend of popularity mean is upward year to year, and the peak is in the 2015, while the trend of popularity median is slightly smoother in recent years. We still can conclude that on average, popularity over years is going up in recent years. \n","user":"anonymous","dateUpdated":"2019-03-16T21:33:07+0100","config":{"colWidth":3,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>From the figure above, we can see that the trend of popularity mean is upward year to year, and the peak is in the 2015, while the trend of popularity median is slightly smoother in recent years. We still can conclude that on average, popularity over years is going up in recent years.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552768359263_-483787756","id":"20190316-213239_1396018649","dateCreated":"2019-03-16T21:32:39+0100","dateStarted":"2019-03-16T21:33:07+0100","dateFinished":"2019-03-16T21:33:07+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7441"},{"text":"%md\nChange the max rows https://zeppelin.apache.org/docs/0.7.2/install/configuration.html","user":"anonymous","dateUpdated":"2019-03-16T20:29:29+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Change the max rows <a href=\"https://zeppelin.apache.org/docs/0.7.2/install/configuration.html\">https://zeppelin.apache.org/docs/0.7.2/install/configuration.html</a></p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552764465641_-576602568","id":"20190316-202745_1804888307","dateCreated":"2019-03-16T20:27:45+0100","dateStarted":"2019-03-16T20:29:29+0100","dateFinished":"2019-03-16T20:29:30+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7442"},{"text":"%md\n* Question 2: The distribution of revenue in different popularity levels in recent five years.\n","user":"anonymous","dateUpdated":"2019-03-16T21:36:39+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<ul>\n  <li>Question 2: The distribution of revenue in different popularity levels in recent five years.</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1552764569918_514802535","id":"20190316-202929_2119464476","dateCreated":"2019-03-16T20:29:29+0100","dateStarted":"2019-03-16T21:36:39+0100","dateFinished":"2019-03-16T21:36:39+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7443"},{"text":"df[['revenue']].describe()","user":"anonymous","dateUpdated":"2019-03-17T11:04:26+0100","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":true,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"            revenue\ncount  4.843000e+03\nmean   8.933981e+07\nstd    1.621546e+08\nmin    2.000000e+00\n25%    7.779664e+06\n50%    3.191160e+07\n75%    1.000000e+08\nmax    2.781506e+09\n"}]},"apps":[],"jobName":"paragraph_1552768848072_528466529","id":"20190316-214048_877959634","dateCreated":"2019-03-16T21:40:48+0100","dateStarted":"2019-03-16T22:01:55+0100","dateFinished":"2019-03-16T22:01:55+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7444","title":"Let´s take a look to the revenues statistics","focus":true},{"text":"pd.DataFrame(pd.qcut(df.revenue, 4)).head()","user":"anonymous","dateUpdated":"2019-03-17T11:04:43+0100","config":{"colWidth":6,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":true,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"                       revenue\n0  (100000000.0, 2781505847.0]\n1  (100000000.0, 2781505847.0]\n2  (100000000.0, 2781505847.0]\n3  (100000000.0, 2781505847.0]\n4  (100000000.0, 2781505847.0]\n"}]},"apps":[],"jobName":"paragraph_1552768958447_-805573824","id":"20190316-214238_1157862122","dateCreated":"2019-03-16T21:42:38+0100","dateStarted":"2019-03-16T22:01:58+0100","dateFinished":"2019-03-16T22:01:58+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7445","title":"We want to cut the values into binnings for each quartile","focus":true},{"text":"#To prove that is the same\npd.DataFrame(pd.qcut(df.revenue, 4)).reset_index().groupby('revenue').count()","user":"anonymous","dateUpdated":"2019-03-17T11:03:59+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":true,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"                             index\nrevenue                           \n(1.999, 7779664.0]            1211\n(7779664.0, 31911598.0]       1211\n(31911598.0, 100000000.0]     1212\n(100000000.0, 2781505847.0]   1209\n"}]},"apps":[],"jobName":"paragraph_1552768606259_-252312968","id":"20190316-213646_2098241906","dateCreated":"2019-03-16T21:36:46+0100","dateStarted":"2019-03-16T21:42:13+0100","dateFinished":"2019-03-16T21:42:13+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7446","title":"We check the quartiles are well calculated"},{"text":"df['revenue_label'] = pd.qcut(df.revenue, 4, labels=[ 'Low', 'Medium', 'Moderately High', 'High'])\ngroup_by_year = df.groupby(['release_year', 'revenue_label']).median()[['popularity']].reset_index()\ngroup_by_year = group_by_year[group_by_year['release_year'] > 2009]","user":"anonymous","dateUpdated":"2019-03-17T11:03:41+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552768599175_1138662662","id":"20190316-213639_1618946458","dateCreated":"2019-03-16T21:36:39+0100","dateStarted":"2019-03-17T11:03:32+0100","dateFinished":"2019-03-17T11:03:32+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7447","title":"We add the labels and create the dataframe"},{"text":"%sql\nselect * from group_by_year","user":"anonymous","dateUpdated":"2019-03-17T11:00:46+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"release_year":"string","revenue_label":"string","value_count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":false}},"commonSetting":{},"keys":[{"name":"release_year","index":0,"aggr":"sum"}],"groups":[{"name":"revenue_label","index":1,"aggr":"sum"}],"values":[{"name":"popularity","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"release_year\trevenue_label\tpopularity\n2010\tLow\t0.410188\n2010\tMedium\t0.7541680000000001\n2010\tModerately High\t0.8673754999999995\n2010\tHigh\t1.641919\n2011\tLow\t0.432913\n2011\tMedium\t0.7733595\n2011\tModerately High\t1.029084\n2011\tHigh\t1.493862\n2012\tLow\t0.34103700000000003\n2012\tMedium\t0.6721265000000001\n2012\tModerately High\t1.082051499999995\n2012\tHigh\t1.9746720000000002\n2013\tLow\t0.4546715\n2013\tMedium\t0.7983964999999995\n2013\tModerately High\t1.21451\n2013\tHigh\t1.92107\n2014\tLow\t0.6352140000000001\n2014\tMedium\t0.8931209999999989\n2014\tModerately High\t1.146492\n2014\tHigh\t3.1601005\n2015\tLow\t0.5723874999999996\n2015\tMedium\t1.046518\n2015\tModerately High\t1.696681999999995\n2015\tHigh\t3.877764\n"}]},"apps":[],"jobName":"paragraph_1552769196319_-1214640060","id":"20190316-214636_1320817587","dateCreated":"2019-03-16T21:46:36+0100","dateStarted":"2019-03-17T11:00:45+0100","dateFinished":"2019-03-17T11:00:45+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7450"},{"text":"list_dataframes = []\nfor year in [2009, 2010, 2011, 2012, 2013, 2014, 2015]:\n    df_year = df_revenue_not_na[df_revenue_not_na['release_year'] == year]\n    df_year['revenue_label'] = pd.qcut(df_year.revenue, 4, labels=[ 'Low', 'Medium', 'Moderately High', 'High'])\n    group_by_year = df_year.groupby(['release_year', 'revenue_label']).median()[['popularity']].reset_index()\n    list_dataframes.append(group_by_year)\npopularity_by_year = pd.concat(list_dataframes)","user":"anonymous","dateUpdated":"2019-03-17T10:48:43+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"editorMode":"ace/mode/python","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552770396768_-269862130","id":"20190316-220636_977982680","dateCreated":"2019-03-16T22:06:36+0100","dateStarted":"2019-03-16T22:13:40+0100","dateFinished":"2019-03-16T22:13:41+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7451"},{"text":"%sql\nselect * from popularity_by_year","user":"anonymous","dateUpdated":"2019-03-17T10:46:34+0100","config":{"colWidth":9,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"release_year":"string","revenue_label":"string","value_count":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"release_year","index":0,"aggr":"sum"}],"groups":[{"name":"revenue_label","index":1,"aggr":"sum"}],"values":[{"name":"popularity","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"release_year\trevenue_label\tpopularity\n2009\tLow\t0.41039900000000007\n2009\tMedium\t0.607401\n2009\tModerately High\t0.7915754999999989\n2009\tHigh\t1.723701499999995\n2010\tLow\t0.332904\n2010\tMedium\t0.700308\n2010\tModerately High\t0.8673754999999995\n2010\tHigh\t1.757376\n2011\tLow\t0.43132\n2011\tMedium\t0.6844870000000001\n2011\tModerately High\t1.0416699999999999\n2011\tHigh\t1.641698\n2012\tLow\t0.3159925\n2012\tMedium\t0.5895425000000001\n2012\tModerately High\t1.0201040000000001\n2012\tHigh\t2.0479665000000002\n2013\tLow\t0.393664\n2013\tMedium\t0.72282\n2013\tModerately High\t1.06549\n2013\tHigh\t1.92107\n2014\tLow\t0.5594720000000001\n2014\tMedium\t0.778247\n2014\tModerately High\t1.1445530000000002\n2014\tHigh\t3.3277989999999997\n2015\tLow\t0.506\n2015\tMedium\t0.9218280000000001\n2015\tModerately High\t1.7504520000000001\n2015\tHigh\t3.9233275\n"}]},"apps":[],"jobName":"paragraph_1552770627989_-160722636","id":"20190316-221027_536631368","dateCreated":"2019-03-16T22:10:27+0100","dateStarted":"2019-03-16T22:13:45+0100","dateFinished":"2019-03-16T22:13:45+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7452"},{"text":"%md\nWe can see that movies with higher revenue level are with higher popularity in recent five years.\n\nWe can see that revenue level has postive relation with popularity. The result is reasonable since it makes me think of if movie producer wants to make high revenue movies, the first thing they always is to promote it and make it popular. So according the result from the previous question, I infer that a high revenue movie is always with a higher popularity than movies with lower revenue levels. So if we define success of a movie is it's revenue, one property it has is the high popularity.\n\nBut what about the score rating distribution in different revenue levels of movies? Does high revenue level movie has the property of high score rating? Let's explore on the next question.","user":"anonymous","dateUpdated":"2019-03-16T22:15:56+0100","config":{"colWidth":3,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>We can see that movies with higher revenue level are with higher popularity in recent five years.</p>\n<p>We can see that revenue level has postive relation with popularity. The result is reasonable since it makes me think of if movie producer wants to make high revenue movies, the first thing they always is to promote it and make it popular. So according the result from the previous question, I infer that a high revenue movie is always with a higher popularity than movies with lower revenue levels. So if we define success of a movie is it&rsquo;s revenue, one property it has is the high popularity.</p>\n<p>But what about the score rating distribution in different revenue levels of movies? Does high revenue level movie has the property of high score rating? Let&rsquo;s explore on the next question.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552769707724_463094507","id":"20190316-215507_179170027","dateCreated":"2019-03-16T21:55:07+0100","dateStarted":"2019-03-16T22:15:56+0100","dateFinished":"2019-03-16T22:16:09+0100","status":"ABORT","progressUpdateIntervalMs":500,"$$hashKey":"object:7453"},{"text":"%md\n* Question 3: The distribution of revenue in different score rating levels in recent five years.\n","user":"anonymous","dateUpdated":"2019-03-17T10:41:59+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<ul>\n  <li>Question 3: The distribution of revenue in different score rating levels in recent five years.</li>\n</ul>\n</div>"}]},"apps":[],"jobName":"paragraph_1552770956153_1334686875","id":"20190316-221556_722760326","dateCreated":"2019-03-16T22:15:56+0100","dateStarted":"2019-03-17T10:41:56+0100","dateFinished":"2019-03-17T10:41:56+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7454"},{"text":"list_dataframes_votes = []\nfor year in [2009, 2010, 2011, 2012, 2013, 2014, 2015]:\n    df_year = df_revenue_not_na[df_revenue_not_na['release_year'] == year]\n    df_year['revenue_label'] = pd.qcut(df_year.revenue, 4, labels=[ 'Low', 'Medium', 'Moderately High', 'High'])\n    group_by_year = df_year.groupby(['release_year', 'revenue_label']).median()[['vote_average']].reset_index()\n    list_dataframes_votes.append(group_by_year)\nvotes_by_year = pd.concat(list_dataframes_votes)","user":"anonymous","dateUpdated":"2019-03-17T10:49:25+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python","editorHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1552815716298_607815345","id":"20190317-104156_1802032981","dateCreated":"2019-03-17T10:41:56+0100","dateStarted":"2019-03-17T10:43:25+0100","dateFinished":"2019-03-17T10:43:25+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7455"},{"text":"%sql\nselect * from votes_by_year","user":"anonymous","dateUpdated":"2019-03-17T10:46:34+0100","config":{"colWidth":9,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"release_year":"string","revenue_label":"string","vote_average":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"release_year","index":0,"aggr":"sum"}],"groups":[{"name":"revenue_label","index":1,"aggr":"sum"}],"values":[{"name":"vote_average","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"release_year\trevenue_label\tvote_average\n2009\tLow\t6.0\n2009\tMedium\t5.9\n2009\tModerately High\t6.0\n2009\tHigh\t6.25\n2010\tLow\t6.0\n2010\tMedium\t6.3\n2010\tModerately High\t6.0\n2010\tHigh\t6.1\n2011\tLow\t6.1\n2011\tMedium\t6.15\n2011\tModerately High\t6.2\n2011\tHigh\t6.35\n2012\tLow\t5.7\n2012\tMedium\t5.9\n2012\tModerately High\t6.1\n2012\tHigh\t6.4\n2013\tLow\t5.8\n2013\tMedium\t6.1\n2013\tModerately High\t6.1\n2013\tHigh\t6.5\n2014\tLow\t6.0\n2014\tMedium\t6.3\n2014\tModerately High\t6.3\n2014\tHigh\t6.6\n2015\tLow\t5.85\n2015\tMedium\t6.15\n2015\tModerately High\t6.4\n2015\tHigh\t6.5\n"}]},"apps":[],"jobName":"paragraph_1552815805151_669980940","id":"20190317-104325_504642754","dateCreated":"2019-03-17T10:43:25+0100","dateStarted":"2019-03-17T10:43:42+0100","dateFinished":"2019-03-17T10:43:42+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7456"},{"text":"%md\nFrom the chart above, we can see that there is no big difference of movie rating between each revenue level. So it can be concluded that the high revenue movies don't have the significant high score rating.","user":"anonymous","dateUpdated":"2019-03-17T10:44:39+0100","config":{"colWidth":3,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>From the chart above, we can see that there is no big difference of movie rating between each revenue level. So it can be concluded that the high revenue movies don&rsquo;t have the significant high score rating.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1552815822435_-1131023893","id":"20190317-104342_881137946","dateCreated":"2019-03-17T10:43:42+0100","dateStarted":"2019-03-17T10:44:39+0100","dateFinished":"2019-03-17T10:44:39+0100","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:7457"},{"text":"%md\n","user":"anonymous","dateUpdated":"2019-03-17T10:44:39+0100","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1552815879110_-2146008274","id":"20190317-104439_992002446","dateCreated":"2019-03-17T10:44:39+0100","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:7458"}],"name":"TMDb movie data","id":"2E5BH26MB","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}